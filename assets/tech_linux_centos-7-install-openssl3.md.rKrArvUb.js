import{_ as i,c as a,o as l,ag as n}from"./chunks/framework.B4X-CZzR.js";const o=JSON.parse('{"title":"CentOS 7 安装OpenSSL3","description":"","frontmatter":{},"headers":[],"relativePath":"tech/linux/centos-7-install-openssl3.md","filePath":"tech/linux/centos-7-install-openssl3.md"}'),e={name:"tech/linux/centos-7-install-openssl3.md"};function h(t,s,p,k,F,r){return l(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="centos-7-安装openssl3" tabindex="-1">CentOS 7 安装OpenSSL3 <a class="header-anchor" href="#centos-7-安装openssl3" aria-label="Permalink to &quot;CentOS 7 安装OpenSSL3&quot;">​</a></h1><p>CentOS 自带的OpenSSL版本为1.0.2k，而我们需要安装的是3.5.4 LTS版本。</p><h2 id="_1-安装依赖包" tabindex="-1">1.安装依赖包 <a class="header-anchor" href="#_1-安装依赖包" aria-label="Permalink to &quot;1.安装依赖包&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc-c++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> glibc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> autoconf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pcre-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pam-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-Digest-SHA</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zlib</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zlib-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-IPC-Cmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-Data-Dumper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-Time-Piece</span></span></code></pre></div><h2 id="_2-编译安装" tabindex="-1">2.编译安装 <a class="header-anchor" href="#_2-编译安装" aria-label="Permalink to &quot;2.编译安装&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-check-certificate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/openssl/openssl/releases/download/openssl-3.5.4/openssl-3.5.4.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -xvzf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl-3.5.4.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl-3.5.4.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl-3.5.4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shared</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zlib</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable-fips</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prefix=/usr/local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --openssldir=/usr/local/ssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shared</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zlib</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -j4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><h2 id="_3-备份原来的openssl" tabindex="-1">3.备份原来的OpenSSL <a class="header-anchor" href="#_3-备份原来的openssl" aria-label="Permalink to &quot;3.备份原来的OpenSSL&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/openssl.bak</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/include/openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/include/openssl.bak</span></span></code></pre></div><h2 id="_4-创建软连接" tabindex="-1">4.创建软连接 <a class="header-anchor" href="#_4-创建软连接" aria-label="Permalink to &quot;4.创建软连接&quot;">​</a></h2><p>因为源码安装默认安装的位置是 /usr/local/ssl 需要将创建软链接到系统位置:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/bin/openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/openssl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/include/openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/include/openssl</span></span></code></pre></div><h2 id="_5-修改链接库" tabindex="-1">5.修改链接库 <a class="header-anchor" href="#_5-修改链接库" aria-label="Permalink to &quot;5.修改链接库&quot;">​</a></h2><p>通过 find / -name libcrypto.so.3 和 ibssl.so.3 查找到对应so文件的位置，并建立软连接</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/lib64/libssl.so.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/lib/libssl.so.3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/lib64/libcrypto.so.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/lib/libcrypto.so.3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ldconfig</span></span></code></pre></div><h2 id="_6-验证" tabindex="-1">6.验证 <a class="header-anchor" href="#_6-验证" aria-label="Permalink to &quot;6.验证&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span></code></pre></div><hr><p><small>最后更新：2026-01-17</small></p>`,18)])])}const c=i(e,[["render",h]]);export{o as __pageData,c as default};
