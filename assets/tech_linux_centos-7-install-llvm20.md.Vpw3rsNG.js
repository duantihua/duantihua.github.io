import{_ as i,c as a,o as l,ag as n}from"./chunks/framework.B4X-CZzR.js";const c=JSON.parse('{"title":"CentOS 7 安装LLVM20","description":"","frontmatter":{},"headers":[],"relativePath":"tech/linux/centos-7-install-llvm20.md","filePath":"tech/linux/centos-7-install-llvm20.md"}'),t={name:"tech/linux/centos-7-install-llvm20.md"};function h(e,s,p,k,r,d){return l(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="centos-7-安装llvm20" tabindex="-1">CentOS 7 安装LLVM20 <a class="header-anchor" href="#centos-7-安装llvm20" aria-label="Permalink to &quot;CentOS 7 安装LLVM20&quot;">​</a></h1><h2 id="_1-准备环境" tabindex="-1">1.准备环境 <a class="header-anchor" href="#_1-准备环境" aria-label="Permalink to &quot;1.准备环境&quot;">​</a></h2><p>编译LLVM需要CMake4，可以参考<a href="/tech/linux/centos-7-install-cmake4.html">CentOS 7 安装CMake4</a>，以及高版本的GCC。</p><h2 id="下载或者克隆相应的版本" tabindex="-1">下载或者克隆相应的版本 <a class="header-anchor" href="#下载或者克隆相应的版本" aria-label="Permalink to &quot;下载或者克隆相应的版本&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --depth</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/llvm/llvm-project.git</span></span></code></pre></div><h2 id="开始编译" tabindex="-1">开始编译 <a class="header-anchor" href="#开始编译" aria-label="Permalink to &quot;开始编译&quot;">​</a></h2><p>最好准备8核，8G内存以上，200G以上的磁盘，编译过程预计需要15-20分钟。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> llvm-project</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PKG_CONFIG_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/local/lib64/pkgconfig:$PKG_CONFIG_PATH</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CMAKE_PREFIX_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/local:$CMAKE_PREFIX_PATH</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -DCMAKE_C_COMPILER=/usr/local/gcc-9.5.0/bin/gcc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -DCMAKE_CXX_COMPILER=/usr/local/gcc-9.5.0/bin/g++</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -DCMAKE_INSTALL_PREFIX=/usr/local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -DCMAKE_INSTALL_LIBDIR=lib64</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -DLLVM_ENABLE_PROJECTS=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;llvm;clang;lldb&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -DLLVM_TARGETS_TO_BUILD=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;X86&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> llvm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Ninja&quot;</span></span></code></pre></div><p>配置好后，执行编译</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ninja</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -j$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nproc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ninja</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><hr><div style="text-align:right;"><small>最后更新：2026-01-18</small></div>`,12)])])}const C=i(t,[["render",h]]);export{c as __pageData,C as default};
